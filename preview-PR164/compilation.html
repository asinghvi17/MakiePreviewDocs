<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Static compilation of Makie · Makie.jl</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-25440897-2', 'auto');
ga('send', 'pageview', {'page': location.pathname + location.search + location.hash});
</script><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.png" alt="Makie.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">Makie.jl</span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li><span class="tocitem">Basics</span><ul><li><a class="tocitem" href="basic-tutorials.html">Tutorial</a></li><li><a class="tocitem" href="statsmakie.html">StatsMakie Tutorial</a></li><li><a class="tocitem" href="animation.html">Animation</a></li><li><a class="tocitem" href="interaction.html">Interaction</a></li><li><a class="tocitem" href="functions-overview.html">Plotting functions overview</a></li><li><a class="tocitem" href="animation.html">Animation</a></li></ul></li><li><span class="tocitem">Documentation</span><ul><li><a class="tocitem" href="scenes.html">Scenes</a></li><li><a class="tocitem" href="signatures.html">Plot function signatures</a></li><li><a class="tocitem" href="plot-attributes.html">Plot attributes</a></li><li><a class="tocitem" href="colors.html">Colors</a></li><li><a class="tocitem" href="theming.html">Config file</a></li><li><a class="tocitem" href="cameras.html">Cameras</a></li><li><a class="tocitem" href="backends.html">Backends</a></li><li><a class="tocitem" href="axis.html">Axis</a></li><li><a class="tocitem" href="recipes.html">Plot Recipes</a></li><li><a class="tocitem" href="output.html">Output</a></li><li><a class="tocitem" href="troubleshooting.html">Troubleshooting</a></li></ul></li><li><span class="tocitem">Developer Documentation</span><ul><li><a class="tocitem" href="why-makie.html">Why <code>Makie</code>?</a></li><li><a class="tocitem" href="devdocs.html">Devdocs</a></li><li><a class="tocitem" href="gallery.html">MakieGallery</a></li><li><a class="tocitem" href="abstractplotting_api.html">AbstractPlotting Reference</a></li><li><a class="tocitem" href="typetrees.html">Type Trees</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="compilation.html">Static compilation of Makie</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="compilation.html">Static compilation of Makie</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaPlots/MakieGallery.jl/blob/master/docs/src/compilation.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Static-compilation-of-Makie-1">Static compilation of Makie<a class="docs-heading-anchor" href="#Static-compilation-of-Makie-1" title="Permalink"></a></h1><h2 id="Compiling-into-system-image-1">Compiling into system image<a class="docs-heading-anchor" href="#Compiling-into-system-image-1" title="Permalink"></a></h2><p>You can compile a binary for Makie and add it to your system image for fast plotting times with no JIT overhead, using <a href="https://github.com/JuliaLang/PackageCompiler.jl"><code>PackageCompiler.jl</code></a>.</p><p>To do that, you need to check out the additional packages for precompilation.  Then, you can build a system image using the <code>compile_incremental</code> method.</p><p>What this will do is generate a list of statements to compile using Makie&#39;s tests, which are stored in <code>test/runtests.jl</code>.  These tests are exhaustive and use most, if not all, of Makie&#39;s functionality.</p><p>To do the precompilation, you need only specify which packages you want to precompile, and <code>PackageCompiler</code> will do the rest.  First, make sure you have PackageCompiler:</p><pre><code class="language-julia"># add PackageCompiler
Pkg.add(&quot;PackageCompiler&quot;)
using PackageCompiler</code></pre><h3 id="The-&#39;safe&#39;-method-1">The &#39;safe&#39; method<a class="docs-heading-anchor" href="#The-&#39;safe&#39;-method-1" title="Permalink"></a></h3><p>Using PackageCompiler is inherently risky. However, the chance of it messing up your Julia install, if you don&#39;t <code>force</code>(see below), is minimal.  The safe method outlined here will create a new system image in <code>PackageCompiler</code>&#39;s directory, which you can use with Julia by calling <code>julia --sysimage path/to/sysimg.so</code>.  You can also alias this command to something like <code>juliam</code> for ease of access.</p><pre><code class="language-julia">nso, cso = PackageCompiler.compile_incremental(:Makie, :AbstractPlotting, force = false) # can take around ~20 minutes
nso # path to new system image</code></pre><h3 id="The-&#39;risky&#39;-method-1">The &#39;risky&#39; method<a class="docs-heading-anchor" href="#The-&#39;risky&#39;-method-1" title="Permalink"></a></h3><p>There is another approach, which will rewrite your current system image file.  This may brick your Julia install; to revert, consider doing <code>using PackageCompiler; PackageCompiler.revert()</code>.  However, note that this is not well tested and you may have to reinstall Julia.</p><pre><code class="language-julia"># Replaces Julia&#39;s system image
# please be very careful with the option below, since this can make your Julia stop working.

PackageCompiler.compile_incremental(:Makie, :AbstractPlotting, force = true)</code></pre><h2 id="After-precompilation-1">After precompilation<a class="docs-heading-anchor" href="#After-precompilation-1" title="Permalink"></a></h2><p>Due to some issues around the precompilation of the display stack, you will have to call <code>AbstractPlotting.__init__()</code> after <code>using AbstractPlotting</code> to display plots.  Alternatively, you can do <code>display(AbstractPlotting.PlotDisplay(), scene);</code> on your <code>Scene</code> to get it to display in a plot window.</p><p>If you plan to modify or develop Makie, any changes you make to Makie will not propagate normally, since the functions are already in the system image.  You will have to, using Atom (the IDE), <code>eval</code> the changed files.</p></article></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 14 November 2019 18:51">Thursday 14 November 2019</span>. Using Julia version 1.2.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
